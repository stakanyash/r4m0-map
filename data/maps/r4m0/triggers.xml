<?xml version="1.0" encoding="windows-1251" standalone="yes" ?>
<triggers>
<!-- Триггер для теста карты -->
	<trigger Name="GlobalVar" active="1">
		<event timeout="0" eventid="GE_TIME_PERIOD" />
		<script>
            AddPlayerVehicle("MirotvorecShot")

			local Pl = GetPlayerVehicle()

			if Pl then
			    Pl:SetGamePositionOnGround(CVector(getPos("FromR4M1")))
				Pl:SetRotation(Quaternion(-0.081, -0.019, -0.007, -0.997))
			end

			trigger:Deactivate()
		</script>
	</trigger>

<!-- Триггеры переходов на карты -->

	<trigger Name="trExitToR4M1" active="1">
		<event eventid="GE_OBJECT_ENTERS_LOCATION"	ObjName="ExitToR4M1" />
		<script>
			local Pl = GetPlayerVehicle()

			if Pl then
			    Pl:SetThrottle( 0 )
				Pl:SetCustomLinearVelocity( 0 )

				local b = SpawnMessageBox( "8801" )

			    if b == 1 then
				    PassToMap("r4m1", "FromR1M1", -1 )
			    else
                    Pl:SetGamePositionOnGround(CVector(getPos("FromR4M1")))
				    Pl:SetRotation(Quaternion(-0.081, -0.019, -0.007, -0.997))
				end
			    TActivate("R4M1ExitRefuse_rolik")
			end
 		</script>
	</trigger>

	<trigger Name="trExitToR1M1" active="1">
		<event eventid="GE_OBJECT_ENTERS_LOCATION"	ObjName="ExitToR1M1" />
		<script>
			local Pl = GetPlayerVehicle()

			if Pl then
			    Pl:SetThrottle( 0 )
				Pl:SetCustomLinearVelocity( 0 )

				local b = SpawnMessageBox( "8801" )

			    if b == 1 then
				    PassToMap("r1m1", "FromR4M1", -1 )
			    else
                    Pl:SetGamePositionOnGround(CVector(getPos("FromR1M1")))
				    Pl:SetRotation(Quaternion(0.048, 0.982, 0.052, -0.173))
				end
			    TActivate("R1M1ExitRefuse_rolik")
			end
 		</script>
	</trigger>

<!-- Триггер "радиоактивности" -->

    <trigger Name="RadioActiveSlowKill" active="1">
		<event timeout="5" eventid="GE_TIME_PERIOD" />
		<script>
            local Pl = GetPlayerVehicle()

            if Pl then
                Pl:AddModifier("hp", tostring(random(-3, -0))) 
            end
		</script>
	</trigger>

</triggers>